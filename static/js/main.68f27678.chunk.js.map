{"version":3,"sources":["keybindMap.js","Chart.js","Theme.js","App.js","index.js"],"names":["Keybinds","id","key","order","behavior","active","MIN_EVENT_DURATION","EVENT_LABEL","convertToMilliseconds","value","formatTime","fixedValue","toFixed","isNaN","useStyles","makeStyles","theme","root","flexGrow","margin","maxWidth","accordion","marginBottom","details","flexDirection","paper","padding","spacing","fontSize","textAlign","backgroundColor","palette","primary","main","color","secondary","contrastText","flexBasis","control","Chart","props","useState","formattedData","setFormattedData","derivedFields","setDerivedFields","cachedNumHeaderRows","setCachedNumHeaderRows","cachedFormattedDataSize","setCachedFormattedDataSize","selectedChartElement","setSelectedChartElement","setDeletedChartElement","useGlobal","state","setState","classes","useEffect","interval","setInterval","length","computeDerivedFields","clearInterval","data","filter","obj","uniqueBehaviors","forEach","event","indexOf","push","tempDerivedFields","keybindMap","keybinds","occurrences","totalDuration","matchingEvents","keybind","console","log","avgDuration","derivedField","sort","a","b","undefined","textA","toUpperCase","textB","formatEvent","latestEvent","end","start","events","warn","isDataLoaded","dataFileName","isFormattedDataEmpty","areEventsEmpty","headerRows","type","metadata","duration","isVideo","JSON","stringify","eventsExist","newEventExists","unformattedEvent","formattedEvent","eventsDiff","formattedEvents","concat","derivedFieldsColumns","field","headerName","width","valueFormatter","params","handleResolveSelectedChartElement","reason","className","Accordion","AccordionSummary","expandIcon","Typography","variant","AccordionDetails","style","height","rows","columns","autoPageSize","density","hideFooter","readonly","chartType","options","timeline","colorByRowLabel","showBarLabels","colors","rootProps","chartEvents","eventName","callback","selection","chartWrapper","getChart","getSelection","formattedSelection","row","selectedObject","Snackbar","readOnly","open","autoHideDuration","onClose","message","action","Fragment","Tooltip","title","IconButton","size","onClick","adjustedFormattedData","arr","parseInt","replace","adjustedData","createTheme","SPACE_KEYS","content","marginTop","reactPlayer","slider","dataText","overflow","border","divider","borderRadius","shape","button","largeButton","display","toolbar","minHeight","maxHeight","restrictedText","whiteSpace","textOverflow","bottomAppBar","top","bottom","bottomToolbar","minWidth","menu","StyledMenu","withStyles","Menu","elevation","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","App","isPlayingBuffer","keybindInEdit","setKeybindInEdit","anchorEditKeybinds","setAnchorEditKeybinds","notification","setNotification","savedKeybinds","parse","localStorage","getItem","Array","isArray","confirmVideoReset","window","confirm","resetData","hiddenVideoUpload","current","isPlaying","openEditKeybind","Boolean","handleUpdateKeybinds","setItem","handleEditKeybindChange","prop","target","find","k","keyError","behaviorError","handleCancelEditKeybind","handleVideoSelect","click","handleDataSelect","hiddenDataUpload","handleOnStartPlay","handleKeyevent","String","recordKeydown","activity","parseFloat","playedSeconds","activeRecords","recordKeyup","Math","max","apply","map","e","isFinite","dataEvents","useEventListener","videoFilePath","includes","preventDefault","useRef","anchorSettings","setAnchorSettings","ThemeProvider","Theme","CssBaseline","ref","onChange","files","name","uploadedFile","uploadedFileName","split","pop","toLowerCase","video","document","createElement","URL","createObjectURL","src","addEventListener","fileName","scoringDate","Date","now","scoringDateText","toISOString","activeElement","blur","fileReader","FileReader","readAsText","onload","result","popoverMenu","anchorEl","keepMounted","ListItemText","align","disabled","Grid","paddingBottom","ToggleButtonGroup","videoSize","exclusive","ToggleButton","playbackRate","List","component","paddingTop","dense","ListItem","Popover","disableRestoreFocus","Card","CardContent","TextField","error","helperText","label","defaultValue","inputProps","maxLength","CardActions","smallButton","index","findIndex","currentTarget","handleTriggerEditKeybind","handleDeleteKeybind","clear","KeybindMap","AppBar","position","Toolbar","container","alignItems","item","Divider","orientation","flexItem","dataStr","encodeURIComponent","downloadAnchorNode","setAttribute","body","appendChild","remove","svgData","getElementById","getElementsByTagName","outerHTML","svgBlob","Blob","svgUrl","downloadLink","href","download","removeChild","gutterBottom","url","playing","autoPlay","muted","controls","onDuration","onProgress","progress","loadedSeconds","onPause","onStart","onPlay","xs","packageJson","version","setGlobal","recordedEvents","ReactDOM","render"],"mappings":"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","file":"static/js/main.68f27678.chunk.js","sourcesContent":["const Keybinds = {\n    Keybinds: [\n        { id: 1, key: '1', order: 1, behavior: \"Behavior1\", active: false },\n        { id: 2, key: '2', order: 2, behavior: \"Behavior2\", active: false },\n        { id: 3, key: '3', order: 3, behavior: \"Behavior3\", active: false }\n    ]\n};\n\nexport default Keybinds;","import Accordion from \"@material-ui/core/Accordion\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { DataGrid } from \"@material-ui/data-grid\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport { useEffect, useState } from \"react\";\nimport React, { useGlobal } from \"reactn\";\nimport { Chart as GoogleChart } from \"react-google-charts\";\nimport \"./App.css\";\n\nconst COMPUTE_DERIVED_FIELDS_INTERVAL = 250; // In milliseconds\nconst MIN_EVENT_DURATION = 0.01; // In seconds\nconst EVENT_LABEL = \"Event: \";\n\nfunction convertToMilliseconds(value) {\n  return value * 1000;\n}\n\nfunction formatTime(value) {\n  var fixedValue = value.toFixed(2);\n  if (isNaN(fixedValue)) fixedValue = 0;\n  return `${value.toFixed(2)}ms`;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    margin: \"auto\",\n    maxWidth: \"600px\",\n  },\n  accordion: {\n    margin: \"auto\",\n    maxWidth: \"840px\",\n    marginBottom: \"20px\",\n  },\n  details: {\n    flexDirection: \"column\",\n  },\n  paper: {\n    padding: theme.spacing(1),\n    fontSize: \"12px\",\n    textAlign: \"center\",\n    backgroundColor: theme.palette.primary.main,\n    color: theme.palette.secondary.contrastText,\n    flexBasis: \"25%\",\n  },\n  control: {\n    padding: theme.spacing(2),\n  },\n}));\n\nconst Chart = (props) => {\n  const [formattedData, setFormattedData] = useState([]);\n  const [derivedFields, setDerivedFields] = useState([]);\n  const [cachedNumHeaderRows, setCachedNumHeaderRows] = useState(0);\n  const [cachedFormattedDataSize, setCachedFormattedDataSize] = useState(0);\n  const [selectedChartElement, setSelectedChartElement] = useState({});\n  const [deletedChartElement, setDeletedChartElement] = useState({});\n  const [state, setState] = useGlobal(\"state\");\n\n  const classes = useStyles();\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (formattedData.length !== cachedFormattedDataSize) {\n        setCachedFormattedDataSize(formattedData.length);\n        computeDerivedFields();\n      }\n    }, COMPUTE_DERIVED_FIELDS_INTERVAL);\n    return () => clearInterval(interval);\n  });\n\n  const computeDerivedFields = () => {\n    // Remove header row of formatted data\n    var data = formattedData.filter((obj) => typeof obj[0] === \"string\" && obj[1] !== \"Meta\");\n\n    // Find unique behaviors in existing data\n    const uniqueBehaviors = [];\n    data.forEach((event) => {\n      if (uniqueBehaviors.indexOf(event[0]) === -1) {\n        uniqueBehaviors.push(event[0]);\n      }\n    });\n\n    var tempDerivedFields = [];\n    const keybindMap = state.keybinds;\n\n    var id = 0;\n    // Derive fields for each unique behavior\n    uniqueBehaviors.forEach((behavior) => {\n      var occurrences = 0,\n        totalDuration = 0;\n      var matchingEvents = data.filter((event) => event[0] === behavior);\n      var order = keybindMap.filter((keybind) => keybind.behavior === behavior).order;\n\n      console.log(`Finding derived fields for ${behavior}. Found ${matchingEvents.length} event(s).`);\n\n      occurrences = matchingEvents.length;\n\n      matchingEvents.forEach((event) => {\n        totalDuration += event[3] - event[2];\n      });\n\n      var avgDuration = totalDuration / occurrences;\n      if (occurrences === 0) avgDuration = 0;\n\n      var derivedField = {\n        id: id,\n        order: null,\n        behavior: behavior,\n        occurrences: occurrences,\n        totalDuration: totalDuration,\n        avgDuration: avgDuration,\n      };\n\n      // Hack fix to issue with Derived Fields not showing if just 1 element is in the array\n      // May be resolved in later versions of material's data grid but upgrading from mui4 to mui5 broke everything style related\n      // Push same element twice; duplicates are automatically resolved\n      if (derivedFields.length == 0) {\n        tempDerivedFields.push(derivedField);\n      }\n      tempDerivedFields.push(derivedField);\n      id++;\n    });\n\n    // Sort derived fields by order property\n    tempDerivedFields.sort((a, b) => {\n      if (a.order !== undefined && b.order !== undefined) {\n        return a.order > b.order ? 1 : -1;\n      } else {\n        var textA = a.behavior.toUpperCase();\n        var textB = b.behavior.toUpperCase();\n        return textA < textB ? -1 : textA > textB ? 1 : 0;\n      }\n    });\n\n    setDerivedFields((derivedFields) => {\n      derivedFields = tempDerivedFields;\n      return derivedFields;\n    });\n    state.derivedFields = derivedFields;\n  };\n\n  const formatEvent = (latestEvent) => {\n    // for display purposes, set a minimum value for durations\n    if (latestEvent.end - latestEvent.start < MIN_EVENT_DURATION) latestEvent.end += MIN_EVENT_DURATION;\n\n    // Search existing records for similar start, end, duration times and adjust by the MIN_EVENT_DURATION\n    // This is to account for key presses that happen faster than the update cycle of React\n    state.data.events.forEach((obj) => {\n      if (obj.id !== latestEvent.id && obj.behavior === latestEvent.behavior) {\n        if (obj.start === latestEvent.start) {\n          console.warn(\"Adjusted event start time due to existing similar events: \" + latestEvent.id);\n          latestEvent.start += MIN_EVENT_DURATION + 0.1 * MIN_EVENT_DURATION;\n        }\n\n        if (obj.behavior === latestEvent.behavior && obj.end === latestEvent.start) {\n          console.warn(\"Adjusted event start time due to existing similar events: \" + latestEvent.id);\n          latestEvent.start += 0.1 * MIN_EVENT_DURATION;\n        }\n\n        if (obj.end === latestEvent.end) {\n          console.warn(\"Adjusted event end time due to existing similar events: \" + latestEvent.id);\n          latestEvent.end += MIN_EVENT_DURATION + 0.1 * MIN_EVENT_DURATION;\n        }\n      }\n    });\n\n    return [latestEvent.behavior, EVENT_LABEL + latestEvent.id, convertToMilliseconds(latestEvent.start), convertToMilliseconds(latestEvent.end)];\n  };\n\n  useEffect(() => {\n    var isDataLoaded = state.dataFileName !== \"\";\n    var isFormattedDataEmpty = formattedData.length === 0;\n    var areEventsEmpty = state.data.events && state.data.events.length === 0;\n\n    // Video has been cleared, reset the chart\n    if (!isDataLoaded && formattedData.length !== 0) {\n      setFormattedData([]);\n      setDerivedFields([]);\n    }\n\n    if (isDataLoaded && isFormattedDataEmpty) {\n      var headerRows = [\n        [\n          { type: \"string\", id: \"Behavior\" },\n          { type: \"string\", id: \"Event\" },\n          { type: \"number\", id: \"Start\" },\n          { type: \"number\", id: \"End\" },\n        ],\n        [\"Behavior\", \"Meta\", 0, convertToMilliseconds(state.data.metadata.duration)],\n      ];\n\n      if (state.isVideo && areEventsEmpty) {\n        // Adding empty Behavior records to force a consistent order\n        state.keybinds.forEach((obj) => {\n          headerRows.push([obj.behavior, \"Meta\", 0, 0]);\n        });\n      } else if (!areEventsEmpty) {\n        // Likely coming from a data upload - find unique behaviors and sort them alphabetically if order property does not exist\n        // Find unique behaviors in existing data\n        const uniqueBehaviors = [];\n        state.data.events.forEach((event) => {\n          if (uniqueBehaviors.indexOf(event.behavior) === -1) {\n            uniqueBehaviors.push(event.behavior);\n          }\n        });\n        console.log(JSON.stringify(uniqueBehaviors));\n        uniqueBehaviors.sort((a, b) => {\n          var textA = a.toUpperCase();\n          var textB = b.toUpperCase();\n          return textA < textB ? -1 : textA > textB ? 1 : 0;\n        });\n        uniqueBehaviors.forEach((behavior) => {\n          headerRows.push([behavior, \"Meta\", 0, 0]);\n        });\n      }\n\n      setCachedNumHeaderRows(headerRows.length);\n      setFormattedData(headerRows);\n    }\n\n    // Check if events exist to avoid running code when idle\n    var eventsExist = state.data.events && state.data.events.length > 0;\n    // Check if a new event exists -- length of data.events plus header rows\n    var newEventExists = state.data.events.length + cachedNumHeaderRows > formattedData.length;\n\n    // Add new event and compute derived fields when new record is persisted\n    if (eventsExist && newEventExists) {\n      var eventsDiff = state.data.events.length + cachedNumHeaderRows - formattedData.length;\n      var formattedEvents = [],\n        unformattedEvent,\n        formattedEvent;\n\n      while (eventsDiff > 0) {\n        unformattedEvent = state.data.events[state.data.events.length - eventsDiff];\n        formattedEvent = formatEvent(unformattedEvent);\n        formattedEvents.push(formattedEvent);\n        eventsDiff--;\n      }\n\n      setFormattedData((formattedData) => formattedData.concat(formattedEvents));\n    }\n  });\n\n  const derivedFieldsColumns = [\n    { field: \"behavior\", headerName: \"Behavior\", width: 200 },\n    { field: \"occurrences\", headerName: \"Occurrences\", type: \"number\", width: 200, valueFormatter: (params) => params.value },\n    { field: \"avgDuration\", headerName: \"Avg Duration\", type: \"number\", width: 200, valueFormatter: (params) => formatTime(params.value) },\n    { field: \"totalDuration\", headerName: \"Total Duration\", type: \"number\", width: 200, valueFormatter: (params) => formatTime(params.value) },\n  ];\n\n  const getDerivedFieldsTableHeight = () => {\n    return derivedFields.length > 0 ? 55 * derivedFields.length + 3 : 75;\n  };\n\n  const handleResolveSelectedChartElement = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setSelectedChartElement({ active: false });\n    setDeletedChartElement({ active: false });\n  };\n\n  const handleResolveDeletedChartElement = (event, reason) => {\n    setDeletedChartElement({ active: false });\n  };\n\n  const handleUndoDeletedChartElement = () => {\n    var formattedData = [deletedChartElement.behavior, deletedChartElement.id];\n  };\n\n  const handleDeleteSelectedChartElement = () => {\n    // Remove data with that ID from formattedData and from the data\n    var adjustedFormattedData = formattedData.filter(function (arr) {\n      return arr[1] !== selectedChartElement.id;\n    });\n    setFormattedData(adjustedFormattedData);\n\n    var id = parseInt(selectedChartElement.id.replace(EVENT_LABEL, \"\"));\n    var adjustedData = state.data.events.filter(function (obj) {\n      return obj.id !== id;\n    });\n    setState({\n      ...state,\n      data: {\n        events: adjustedData,\n        metadata: {\n          ...state.data.metadata,\n        },\n      },\n    });\n\n    setDeletedChartElement(selectedChartElement);\n    setSelectedChartElement({ active: false });\n  };\n\n  return (\n    <div className=\"Row\">\n      {props.state.dataFileName !== \"\" && (\n        <Accordion className={classes.accordion}>\n          <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"derivedfields-content\">\n            <Typography variant=\"caption\">Derived Fields</Typography>\n          </AccordionSummary>\n          <AccordionDetails className={classes.accordion}>\n            <div style={{ height: getDerivedFieldsTableHeight(), width: \"100%\" }}>\n              <DataGrid rows={derivedFields} columns={derivedFieldsColumns} autoPageSize={true} density=\"compact\" hideFooter={true} />\n            </div>\n          </AccordionDetails>\n        </Accordion>\n      )}\n      <div id=\"chart-container\" className=\"GoogleChart\">\n        {formattedData.length > 1 && (\n          <GoogleChart\n            readonly\n            width={\"840px\"}\n            height={\"400px\"}\n            chartType=\"Timeline\"\n            data={formattedData}\n            options={{\n              timeline: {\n                colorByRowLabel: true,\n                margin: \"auto\",\n                showBarLabels: false,\n              },\n              colors: [\"transparent\", \"#469FAE\", \"#3ECDB6\", \"#C09BD8\", \"#F67E5C\", \"#CA1252\", \"#DD5B5C\", \"#D9959A\", \"#938D99\", \"#5E614A\"],\n            }}\n            rootProps={{ \"data-testid\": \"6\" }}\n            chartEvents={[\n              {\n                eventName: \"select\",\n                callback: ({ chartWrapper }) => {\n                  var chart = chartWrapper.getChart();\n                  var selection = chart.getSelection()[0];\n                  var formattedSelection = formattedData[selection.row + 1];\n                  var selectedObject = {\n                    behavior: formattedSelection[0],\n                    id: formattedSelection[1],\n                    start: formattedSelection[2],\n                    end: formattedSelection[3],\n                    active: true,\n                  };\n                  if (selectedObject.id !== \"Meta\") setSelectedChartElement(selectedObject);\n\n                  console.log(selectedObject);\n                },\n              },\n            ]}\n          />\n        )}\n      </div>\n      <div>\n        <Snackbar\n          readOnly\n          open={selectedChartElement.active}\n          autoHideDuration={null}\n          onClose={handleResolveSelectedChartElement}\n          message={`Selected: ${selectedChartElement.id}`}\n          action={\n            <React.Fragment>\n              <Tooltip title=\"Delete Event\">\n                <IconButton size=\"small\" aria-label=\"delete\" color=\"secondary\" onClick={handleDeleteSelectedChartElement}>\n                  <DeleteIcon fontSize=\"small\" />\n                </IconButton>\n              </Tooltip>\n              <Tooltip title=\"Cancel\">\n                <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleResolveSelectedChartElement}>\n                  <CloseIcon fontSize=\"small\" />\n                </IconButton>\n              </Tooltip>\n            </React.Fragment>\n          }\n        ></Snackbar>\n        {/* <Snackbar\n                    open={deletedChartElement.active}\n                    autoHideDuration={6000}\n                    onClose={handleResolveDeletedChartElement}\n                    message={`Deleted: ${deletedChartElement.id}`}\n                    action={\n                        <Button color=\"secondary\" size=\"small\" onClick={handleUndoDeletedChartElement}>\n                            Undo\n                        </Button>\n                    }>\n                </Snackbar> */}\n      </div>\n    </div>\n  );\n};\n\nexport default Chart;\n","import { createTheme } from \"@material-ui/core/styles\";\nconst theme = createTheme({\n  palette: {\n    primary: { 500: \"#469FAE\" },\n  },\n});\nexport default theme;\n","import AppBar from \"@material-ui/core/AppBar\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Grid from \"@material-ui/core/Grid\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Menu from \"@material-ui/core/Menu\";\nimport Popover from \"@material-ui/core/Popover\";\nimport { makeStyles, ThemeProvider, withStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Typography from \"@material-ui/core/Typography\";\nimport AddCircleIcon from \"@material-ui/icons/AddCircle\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport CodeIcon from \"@material-ui/icons/Code\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport GetAppIcon from \"@material-ui/icons/GetApp\";\nimport GitHubIcon from \"@material-ui/icons/GitHub\";\nimport ImageIcon from \"@material-ui/icons/Image\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport MovieIcon from \"@material-ui/icons/Movie\";\nimport SettingsIcon from \"@material-ui/icons/Settings\";\nimport SettingsBackupRestoreIcon from \"@material-ui/icons/SettingsBackupRestore\";\nimport ToggleButton from \"@material-ui/lab/ToggleButton\";\nimport ToggleButtonGroup from \"@material-ui/lab/ToggleButtonGroup\";\nimport useEventListener from \"@use-it/event-listener\";\nimport { useEffect, useRef, useState } from \"react\";\nimport ReactPlayer from \"react-player\";\nimport React, { useGlobal } from \"reactn\";\nimport packageJson from \"../package.json\";\nimport \"./App.css\";\nimport Chart from \"./Chart\";\nimport KeybindMap from \"./keybindMap\";\nimport Theme from \"./Theme\";\n\nconst SPACE_KEYS = [\"32\", \" \"];\n\nconst useStyles = makeStyles((theme) => ({\n  content: {\n    marginTop: \"55px\",\n  },\n  reactPlayer: {\n    margin: \"auto\",\n  },\n  slider: {\n    margin: \"0px 20px\",\n    width: \"80%\",\n  },\n  dataText: {\n    height: \"420px\",\n    width: \"840px\",\n    overflow: \"scroll\",\n    margin: \"auto\",\n    border: `1px solid ${theme.palette.divider}`,\n    borderRadius: theme.shape.borderRadius,\n  },\n  button: {\n    padding: 0,\n  },\n  largeButton: {\n    display: \"inline-block\",\n    margin: \"auto\",\n    \"& svg\": {\n      fontSize: 144,\n    },\n  },\n  toolbar: {\n    minHeight: 48,\n    maxHeight: 48,\n  },\n  restrictedText: {\n    overflow: \"hidden\",\n    whiteSpace: \"nowrap\",\n    textOverflow: \"ellipsis\",\n    margin: \"0px 10px\",\n    maxWidth: \"300px\",\n  },\n  title: {\n    flexGrow: 1,\n  },\n  bottomAppBar: {\n    top: \"auto\",\n    bottom: 0,\n  },\n  bottomToolbar: {\n    margin: \"auto\",\n    minWidth: \"800px\",\n    textAlign: \"center\",\n    minHeight: 32,\n    maxHeight: 32,\n  },\n  menu: {\n    width: \"fit-content\",\n    border: `1px solid ${theme.palette.divider}`,\n    borderRadius: theme.shape.borderRadius,\n    \"& svg\": {\n      margin: theme.spacing(1.5),\n    },\n    \"& hr\": {\n      margin: theme.spacing(0, 0.5),\n    },\n  },\n}));\n\nconst StyledMenu = withStyles({\n  paper: {\n    border: \"1px solid #d3d4d5\",\n    width: \"200px\",\n    margin: \"0px 10px\",\n  },\n})((props) => (\n  <Menu\n    elevation={0}\n    getContentAnchorEl={null}\n    anchorOrigin={{\n      vertical: \"bottom\",\n      horizontal: \"center\",\n    }}\n    transformOrigin={{\n      vertical: \"top\",\n      horizontal: \"right\",\n    }}\n    {...props}\n  />\n));\n\nconst App = () => {\n  var isPlayingBuffer = false;\n  const [keybindInEdit, setKeybindInEdit] = useState({});\n  const [anchorEditKeybinds, setAnchorEditKeybinds] = useState(null);\n  const [notification, setNotification] = useState({});\n  const [state, setState] = useGlobal(\"state\");\n\n  useEffect(() => {\n    var savedKeybinds = JSON.parse(localStorage.getItem(\"keybinds\")) || undefined;\n    if (savedKeybinds && Array.isArray(savedKeybinds)) {\n      setState({ ...state, keybinds: savedKeybinds });\n    }\n  }, []);\n\n  const confirmVideoReset = () => {\n    return window.confirm(\"Are you sure you wish to reset the existing video? Unsaved data will be lost.\");\n  };\n\n  const resetData = () => {\n    hiddenVideoUpload.current.value = \"\";\n    setState({\n      ...state,\n      dataFileName: \"\",\n      isVideo: false,\n      isPlaying: false,\n      data: {\n        metadata: {},\n        events: [],\n      },\n    });\n  };\n\n  function resetVideo() {\n    if (confirmVideoReset()) {\n      resetData();\n    }\n  }\n\n  const openEditKeybind = Boolean(anchorEditKeybinds);\n\n  const handleUpdateKeybinds = (keybinds) => {\n    localStorage.setItem(\"keybinds\", JSON.stringify(keybinds));\n\n    var savedKeybinds = JSON.parse(localStorage.getItem(\"keybinds\")) || undefined;\n    if (savedKeybinds && Array.isArray(savedKeybinds)) {\n      setState({ ...state, keybinds: savedKeybinds });\n    }\n  };\n\n  const handleEditKeybindChange = (prop) => (event) => {\n    var value = event.target.value;\n\n    if (value !== undefined) {\n      if (prop === \"order\" && value !== \"\" && !isNaN(value)) value = parseInt(value);\n\n      if (prop === \"key\") {\n        var existingKey = state.keybinds.find((k) => k.key === value);\n        if (existingKey) {\n          setKeybindInEdit({ ...keybindInEdit, keyError: true });\n          return;\n        }\n      }\n\n      if (prop === \"behavior\") {\n        var existingBehavior = state.keybinds.find((k) => k.behavior === value);\n        if (existingBehavior) {\n          setKeybindInEdit({ ...keybindInEdit, behaviorError: true });\n          return;\n        }\n      }\n\n      setKeybindInEdit((keybindInEdit) => {\n        keybindInEdit = { ...keybindInEdit, [prop]: value };\n\n        if (prop === \"behavior\" && keybindInEdit.behaviorError) keybindInEdit.behaviorError = false;\n\n        if (prop === \"key\" && keybindInEdit.keyError) keybindInEdit.keyError = false;\n\n        return keybindInEdit;\n      });\n    }\n  };\n\n  const handleTriggerEditKeybind = (event, keybind) => {\n    setKeybindInEdit(keybind);\n    setAnchorEditKeybinds(event.currentTarget);\n  };\n\n  const handleAddNewKeybind = () => {\n    var keybinds = state.keybinds;\n    var id = Math.max.apply(\n      Math,\n      keybinds.map(function (k) {\n        return k.id;\n      })\n    );\n    id = isFinite(id) ? id + 1 : 0;\n    var order = Math.max.apply(\n      Math,\n      keybinds.map(function (k) {\n        return k.order;\n      })\n    );\n    order = isFinite(order) ? order + 1 : 0;\n\n    keybinds.push({\n      id: id,\n      key: \"0\",\n      order: order,\n      behavior: \"New Behavior\",\n      active: false,\n    });\n\n    setState({ ...state, keybinds: keybinds });\n    handleUpdateKeybinds(keybinds);\n  };\n\n  const handleAcceptEditKeybind = (event) => {\n    var keybinds = state.keybinds;\n    var index = keybinds.findIndex((k) => k.id === keybindInEdit.id);\n    keybinds[index] = keybindInEdit;\n\n    setState({ ...state, keybinds: keybinds });\n    handleUpdateKeybinds(keybinds);\n    handleCancelEditKeybind();\n  };\n\n  const handleCancelEditKeybind = () => {\n    setAnchorEditKeybinds(null);\n  };\n\n  const handleDeleteKeybind = (event, keybind) => {\n    if (window.confirm(\"Are you sure you wish to delete this keybind?\")) {\n      var keybinds = state.keybinds.filter((k) => k.id !== keybind.id);\n\n      setState({ ...state, keybinds: keybinds });\n      handleUpdateKeybinds(keybinds);\n    }\n  };\n\n  const handleResetSettings = () => {\n    if (window.confirm(\"Are you sure you wish to clear local settings?\")) {\n      localStorage.clear();\n      setState({ ...state, keybinds: KeybindMap.Keybinds });\n    }\n  };\n\n  const handleDuration = (duration) => {\n    setState({ ...state, duration: duration });\n  };\n\n  const handleProgress = (progress) => {\n    setState({ ...state, playedSeconds: progress.playedSeconds, loadedSeconds: progress.loadedSeconds });\n  };\n\n  const handleVideoSelect = (event) => {\n    console.log(`Preparing to select video`);\n    if (state.dataFileName !== \"\") {\n      console.log(`Previous video found. Prompting user to confirm video reset.`);\n      if (!confirmVideoReset()) {\n        console.log(`Video reset was declined.`);\n        return;\n      }\n      console.log(`Video reset was confirmed.`);\n    }\n    resetData();\n    hiddenVideoUpload.current.click();\n  };\n\n  const handleVideoUpload = (event) => {\n    console.log(`Preparing to upload video: ${event.target.files[0].name}`);\n    var uploadedFile = event.target.files[0];\n    // Verify video format\n    var uploadedFileName = uploadedFile.name;\n    var isValidFile = uploadedFile && [\"mp4\", \"ogg\", \"webm\", \"mpeg\"].includes(uploadedFileName.split(\".\").pop().toLowerCase());\n    if (isValidFile) {\n      var video = document.createElement(\"video\");\n      var videoFilePath = URL.createObjectURL(uploadedFile);\n      video.src = videoFilePath;\n      video.addEventListener(\"loadedmetadata\", (e) => {\n        var duration = parseFloat(video.duration.toFixed(2));\n        setState({\n          ...state,\n          videoFilePath: videoFilePath,\n          dataFileName: uploadedFileName,\n          isVideo: true,\n          data: {\n            metadata: {\n              fileName: uploadedFileName,\n              scoringDate: Date.now(),\n              scoringDateText: new Date().toISOString(),\n              duration: duration,\n            },\n            events: [],\n          },\n        });\n        document.activeElement.blur();\n      });\n    } else {\n      var message = `Selected file was not recognized as a valid video format.`;\n      console.log(message);\n      setNotification({ active: true, message: message });\n    }\n  };\n\n  const handleResolveNotification = (event, reason) => {\n    setNotification({ active: false });\n  };\n\n  const handleDataSelect = () => {\n    if (state.dataFileName !== \"\") {\n      if (!confirmVideoReset()) {\n        return;\n      }\n    }\n    resetData();\n    hiddenDataUpload.current.click();\n  };\n\n  const handleDataUpload = (event) => {\n    const fileReader = new FileReader();\n    fileReader.readAsText(event.target.files[0], \"UTF-8\");\n    var fileName = event.target.files[0].name;\n    fileReader.onload = (event) => {\n      // Validate data\n      var obj = JSON.parse(event.target.result);\n      if (obj.events && Array.isArray(obj.events) && obj.metadata && obj.metadata.fileName) {\n        setState({ ...state, dataFileName: fileName, data: obj });\n      } else {\n        console.warn(\"Selected data not valid.\");\n      }\n    };\n  };\n\n  const handleDownloadData = () => {\n    if (state.data.events && state.data.events.length > 0) {\n      var dataStr = \"data:text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(state.data));\n      var downloadAnchorNode = document.createElement(\"a\");\n      downloadAnchorNode.setAttribute(\"href\", dataStr);\n      downloadAnchorNode.setAttribute(\"download\", state.dataFileName + \"-scored-behavior.json\");\n      document.body.appendChild(downloadAnchorNode); // required for firefox\n      downloadAnchorNode.click();\n      downloadAnchorNode.remove();\n    }\n  };\n\n  const handleDownloadSVG = () => {\n    if (state.data.events && state.data.events.length > 0) {\n      var chartContainer = document.getElementById(\"chart-container\");\n      var svgData = chartContainer.getElementsByTagName(\"svg\")[0].outerHTML;\n      svgData = svgData.replace(\"<svg\", '<svg xmlns=\"http://www.w3.org/2000/svg\"');\n\n      var svgBlob = new Blob([svgData], { type: \"image/svg+xml;charset=utf-8\" });\n      var svgUrl = URL.createObjectURL(svgBlob);\n      var downloadLink = document.createElement(\"a\");\n      downloadLink.href = svgUrl;\n      downloadLink.download = state.dataFileName + \"-scored-behavior.svg\";\n      document.body.appendChild(downloadLink);\n      downloadLink.click();\n      document.body.removeChild(downloadLink);\n    }\n  };\n\n  const handleNavigateToGitHub = () => {\n    window.open(\"https://github.com/zacran/video-keypress\", \"_blank\");\n  };\n\n  // isPlayingBuffer will never allow starting a video with Space.\n  // This is by design because of autoPlay restrictions in Chrome.\n  // When video is started via Javascript, Chrome assumes it is\n  // autoplaying; user events such as adjusting the volume or fullsize controls can throw\n  // the state variables out of sync as Chrome fires start/stop commands.\n  const handleIsPlayingUpdate = () => {\n    isPlayingBuffer = !isPlayingBuffer;\n  };\n\n  const handleOnStartPlay = () => {\n    setState({ ...state, isPlaying: true });\n  };\n  const handleOnPauseStop = () => {\n    setState({ ...state, isPlaying: false });\n  };\n\n  const handleKeydown = (event) => {\n    if (state.videoFilePath !== \"\" && state.isVideo && SPACE_KEYS.includes(String(event.key))) {\n      event.preventDefault();\n      handleIsPlayingUpdate();\n    } else if (state.isVideo && state.isPlaying) {\n      handleKeyevent(event.key, recordKeydown);\n    }\n  };\n\n  const handleKeyup = ({ key }) => {\n    handleKeyevent(key, recordKeyup);\n  };\n\n  const handleKeyevent = (key, callback) => {\n    state.keybinds.forEach(function (keybind) {\n      if (keybind.key === String(key)) {\n        callback(keybind);\n      }\n    });\n  };\n\n  const handleVideoSizeChange = (event, value) => {\n    if (value !== state.videoSize) setState({ ...state, videoSize: value });\n  };\n\n  const handlePlaybackRateChange = (event, value) => {\n    if (value !== state.playbackRate) setState({ ...state, playbackRate: parseFloat(value) });\n  };\n\n  const recordKeydown = (keybind) => {\n    if (!keybind.active) {\n      keybind.active = true;\n      let activity = {\n        key: keybind.key,\n        behavior: keybind.behavior,\n        order: keybind.order,\n        start: parseFloat(state.playedSeconds.toFixed(3)),\n      };\n\n      let activeRecords = state.activeRecords;\n      activeRecords.push(activity);\n      setState({ ...state, activeRecords: activeRecords });\n    }\n  };\n\n  const recordKeyup = (keybind) => {\n    let activity = state.activeRecords.find((obj) => {\n      return obj.key === keybind.key;\n    });\n    let activeRecords = state.activeRecords.filter((obj) => obj.key !== keybind.key);\n\n    if (activity) {\n      var end = state.playedSeconds.toFixed(3);\n      var id = Math.max.apply(\n        Math,\n        state.data.events.map(function (e) {\n          return e.id;\n        })\n      );\n      id = isFinite(id) ? id + 1 : 0;\n      keybind.active = false;\n      activity.id = id;\n      activity.end = parseFloat(end);\n\n      let dataEvents = state.data.events;\n      dataEvents.push(activity);\n\n      setState({\n        ...state,\n        activeRecords: activeRecords,\n        data: {\n          events: dataEvents,\n          metadata: {\n            ...state.data.metadata,\n          },\n        },\n      });\n    }\n  };\n\n  useEventListener(\"keydown\", handleKeydown);\n  useEventListener(\"keyup\", handleKeyup);\n\n  const classes = useStyles();\n  const hiddenVideoUpload = useRef(null);\n  const hiddenDataUpload = useRef(null);\n\n  const [anchorSettings, setAnchorSettings] = useState(null);\n\n  const handleSettingsClick = (event) => {\n    setAnchorSettings(event.currentTarget);\n  };\n\n  const handleSettingsClose = () => {\n    setAnchorSettings(null);\n  };\n\n  return (\n    <ThemeProvider theme={Theme}>\n      <CssBaseline />\n      <div className=\"App\">\n        <input type=\"file\" ref={hiddenVideoUpload} onChange={handleVideoUpload} style={{ display: \"none\" }} />\n        <input type=\"file\" ref={hiddenDataUpload} onChange={handleDataUpload} style={{ display: \"none\" }} />\n        <StyledMenu className={classes.popoverMenu} anchorEl={anchorSettings} keepMounted open={Boolean(anchorSettings)} onClose={handleSettingsClose}>\n          <ListItemText primary=\"Settings\" align=\"center\" disabled />\n          <ListItemText secondary=\"Video Size\" align=\"center\" disabled />\n          <Grid align=\"center\" style={{ paddingBottom: \"8px\" }}>\n            <ToggleButtonGroup size=\"small\" value={state.videoSize || \"840px\"} align=\"center\" exclusive onChange={handleVideoSizeChange} aria-label=\"video-size-togglegroup\">\n              <ToggleButton value={\"600px\"} aria-label=\"centered\">\n                <Typography variant=\"caption\" align=\"center\">\n                  600px\n                </Typography>\n              </ToggleButton>\n              <ToggleButton value={\"840px\"} aria-label=\"centered\">\n                <Typography variant=\"caption\" align=\"center\">\n                  840px\n                </Typography>\n              </ToggleButton>\n              <ToggleButton value={\"1080px\"} aria-label=\"centered\">\n                <Typography variant=\"caption\" align=\"center\">\n                  1080px\n                </Typography>\n              </ToggleButton>\n            </ToggleButtonGroup>\n          </Grid>\n          <ListItemText secondary=\"Playback Speed\" align=\"center\" disabled />\n          <Grid align=\"center\" style={{ paddingBottom: \"8px\" }}>\n            <ToggleButtonGroup size=\"small\" value={state.playbackRate || 1} align=\"center\" exclusive onChange={handlePlaybackRateChange} aria-label=\"playback-rate-togglegroup\">\n              <ToggleButton value={0.5} aria-label=\"centered\">\n                <Typography variant=\"caption\" align=\"center\">\n                  0.5x\n                </Typography>\n              </ToggleButton>\n              <ToggleButton value={1.0} aria-label=\"centered\">\n                <Typography variant=\"caption\" align=\"center\">\n                  1.0x\n                </Typography>\n              </ToggleButton>\n              <ToggleButton value={1.5} aria-label=\"centered\">\n                <Typography variant=\"caption\" align=\"center\">\n                  1.5x\n                </Typography>\n              </ToggleButton>\n              <ToggleButton value={2.0} aria-label=\"centered\">\n                <Typography variant=\"caption\" align=\"center\">\n                  2.0x\n                </Typography>\n              </ToggleButton>\n            </ToggleButtonGroup>\n          </Grid>\n          <ListItemText secondary=\"Keybinds\" align=\"center\" disabled />\n          <List component=\"nav\" aria-label=\"keybinds-list\" className={classes.root} style={{ paddingTop: \"0px\" }} dense>\n            <ListItem dense>\n              <ListItemText primary=\"Pause/Resume\" secondary=\"keybind: space\" />\n            </ListItem>\n\n            <Popover\n              open={openEditKeybind}\n              anchorEl={anchorEditKeybinds}\n              disableRestoreFocus\n              anchorOrigin={{\n                vertical: \"center\",\n                horizontal: \"left\",\n              }}\n              transformOrigin={{\n                vertical: \"center\",\n                horizontal: \"right\",\n              }}\n            >\n              <Card className={classes.root} variant=\"outlined\">\n                <CardContent>\n                  <ListItemText primary=\"Edit Keybind\" secondary=\"Changes are saved to your browser cache\" />\n                  <TextField\n                    id=\"keybind-behavior-input\"\n                    variant=\"outlined\"\n                    size=\"small\"\n                    error={keybindInEdit.behaviorError ? true : false}\n                    helperText={keybindInEdit.behaviorError ? \"Invalid value\" : \"\"}\n                    label=\"Behavior Name\"\n                    defaultValue={keybindInEdit.behavior}\n                    onChange={handleEditKeybindChange(\"behavior\")}\n                  />\n                  <TextField\n                    id=\"keybind-key-input\"\n                    variant=\"outlined\"\n                    size=\"small\"\n                    error={keybindInEdit.keyError ? true : false}\n                    helperText={keybindInEdit.keyError ? \"Invalid value\" : \"\"}\n                    label=\"Key\"\n                    inputProps={{ maxLength: 1 }}\n                    defaultValue={keybindInEdit.key}\n                    onChange={handleEditKeybindChange(\"key\")}\n                  />\n                  {/* <TextField id=\"keybind-order-input\" variant=\"outlined\" size=\"small\"\n                                    label=\"Order\"\n                                    value={keybindInEdit.order}\n                                    onChange={handleEditKeybindChange('order')} /> */}\n                </CardContent>\n                <CardActions>\n                  <Tooltip title=\"Accept\">\n                    <IconButton\n                      size=\"small\"\n                      className={classes.smallButton}\n                      color=\"primary\"\n                      disabled={keybindInEdit.keyError || keybindInEdit.behaviorError ? true : false}\n                      onClick={handleAcceptEditKeybind}\n                    >\n                      <CheckCircleIcon fontSize=\"small\" />\n                    </IconButton>\n                  </Tooltip>\n                  <Tooltip title=\"Cancel\">\n                    <IconButton size=\"small\" color=\"secondary\" onClick={handleCancelEditKeybind}>\n                      <CancelIcon fontSize=\"small\" />\n                    </IconButton>\n                  </Tooltip>\n                </CardActions>\n              </Card>\n            </Popover>\n\n            {state.keybinds.map((keybind) => (\n              <ListItem key={keybind.id} dense>\n                <ListItemText primary={keybind.behavior} secondary={`keybind: ${keybind.key}`} />\n                <Tooltip title=\"Edit Keybind\">\n                  <IconButton size=\"small\" color=\"primary\" onClick={(e) => handleTriggerEditKeybind(e, keybind)}>\n                    <EditIcon fontSize=\"small\" />\n                  </IconButton>\n                </Tooltip>\n                <Tooltip title=\"Delete Keybind\">\n                  <IconButton size=\"small\" color=\"secondary\" onClick={(e) => handleDeleteKeybind(e, keybind)}>\n                    <DeleteIcon fontSize=\"small\" />\n                  </IconButton>\n                </Tooltip>\n              </ListItem>\n            ))}\n            <Grid align=\"center\">\n              <Tooltip title=\"Add New Keybind\">\n                <IconButton color=\"primary\" size=\"small\" onClick={handleAddNewKeybind}>\n                  <AddCircleIcon fontSize=\"small\" />\n                </IconButton>\n              </Tooltip>\n              <Tooltip title=\"Reset to Defaults\">\n                <IconButton color=\"primary\" size=\"small\" onClick={handleResetSettings}>\n                  <SettingsBackupRestoreIcon fontSize=\"small\" />\n                </IconButton>\n              </Tooltip>\n            </Grid>\n          </List>\n        </StyledMenu>\n\n        <AppBar position=\"fixed\" color=\"primary\">\n          <Toolbar className={classes.toolbar}>\n            <Typography variant=\"h5\" component=\"h1\" className={classes.title}>\n              Video Keypress\n            </Typography>\n            <Grid container alignItems=\"center\" className={classes.menu}>\n              {state.dataFileName && (\n                <Tooltip title={state.dataFileName}>\n                  <Grid item>\n                    <Typography variant=\"caption\" display=\"block\" className={classes.restrictedText}>\n                      Current {state.isVideo ? \"Video\" : \"Data\"}:\n                    </Typography>\n                    <Typography variant=\"overline\" display=\"block\" className={classes.restrictedText}>\n                      {state.dataFileName}\n                    </Typography>\n                  </Grid>\n                </Tooltip>\n              )}\n              {state.dataFileName && <Divider orientation=\"vertical\" flexItem />}\n              {state.dataFileName && (\n                <Tooltip title=\"Download Data\">\n                  <IconButton aria-label=\"download data\" color=\"inherit\" className={classes.button} onClick={handleDownloadData}>\n                    <GetAppIcon />\n                  </IconButton>\n                </Tooltip>\n              )}\n              {state.dataFileName && <Divider orientation=\"vertical\" flexItem />}\n              {state.dataFileName && (\n                <Tooltip title=\"Download SVG\">\n                  <IconButton aria-label=\"download svg\" color=\"inherit\" className={classes.button} onClick={handleDownloadSVG}>\n                    <ImageIcon />\n                  </IconButton>\n                </Tooltip>\n              )}\n              {state.dataFileName && <Divider orientation=\"vertical\" flexItem />}\n              {state.dataFileName && (\n                <Tooltip title=\"Reset Video\">\n                  <IconButton aria-label=\"Reset video\" color=\"inherit\" className={classes.button} onClick={resetVideo}>\n                    <CancelIcon />\n                  </IconButton>\n                </Tooltip>\n              )}\n              {state.dataFileName && <Divider orientation=\"vertical\" flexItem />}\n\n              <Tooltip title=\"Select Video\">\n                <IconButton aria-label=\"select video\" color=\"inherit\" className={classes.button} onClick={(e) => handleVideoSelect(e)}>\n                  <MovieIcon />\n                </IconButton>\n              </Tooltip>\n              <Divider orientation=\"vertical\" flexItem />\n              <Tooltip title=\"Select Data\">\n                <IconButton aria-label=\"select data\" color=\"inherit\" className={classes.button} onClick={handleDataSelect}>\n                  <CodeIcon />\n                </IconButton>\n              </Tooltip>\n              <Divider orientation=\"vertical\" flexItem />\n              <Tooltip title=\"Settings\">\n                <IconButton aria-label=\"settings\" color=\"inherit\" aria-haspopup=\"true\" onClick={handleSettingsClick} className={classes.button}>\n                  <SettingsIcon />\n                </IconButton>\n              </Tooltip>\n            </Grid>\n          </Toolbar>\n        </AppBar>\n        <div className={classes.content}>\n          {!state.dataFileName && (\n            <div align=\"center\">\n              <Typography variant=\"caption\" display=\"block\" align=\"center\" gutterBottom>\n                Please select a video or select data from a previous session!\n              </Typography>\n              <Tooltip title=\"Select Video\" align=\"center\">\n                <IconButton aria-label=\"select video\" color=\"primary\" className={classes.largeButton} onClick={(e) => handleVideoSelect(e)}>\n                  <MovieIcon />\n                </IconButton>\n              </Tooltip>\n              <Tooltip title=\"Select Data\" align=\"center\">\n                <IconButton aria-label=\"select video\" color=\"primary\" className={classes.largeButton} onClick={(e) => handleDataSelect(e)}>\n                  <CodeIcon />\n                </IconButton>\n              </Tooltip>\n            </div>\n          )}\n\n          <div className=\"Row\">\n            <div className=\"VideoPlay\">\n              {state.dataFileName && !state.isVideo && (\n                <div className={classes.dataText}>\n                  <pre>{JSON.stringify(state.data, undefined, 2)}</pre>\n                </div>\n              )}\n              {state.dataFileName && state.isVideo && (\n                <ReactPlayer\n                  url={state.videoFilePath}\n                  className={classes.reactPlayer}\n                  playing={isPlayingBuffer}\n                  width={state.videoSize}\n                  height=\"100%\"\n                  autoPlay={false}\n                  muted={true}\n                  controls={true}\n                  onDuration={handleDuration}\n                  onProgress={handleProgress}\n                  playbackRate={state.playbackRate || 1}\n                  onPause={handleOnPauseStop}\n                  onStart={handleOnStartPlay}\n                  onPlay={handleOnStartPlay}\n                />\n              )}\n              <div className=\"Row\">\n                <Chart state={state} />\n              </div>\n            </div>\n          </div>\n        </div>\n        <Snackbar readOnly open={notification.active} onClose={handleResolveNotification} autoHideDuration={3000} message={notification.message}></Snackbar>\n\n        <AppBar position=\"fixed\" color=\"primary\" className={classes.bottomAppBar}>\n          <Toolbar className={classes.bottomToolbar}>\n            <Grid container alignItems=\"center\" spacing={2}>\n              <Grid item xs={6}>\n                <Typography variant=\"caption\" align=\"center\" gutterBottom>\n                  No data is transferred. All data remains in your browser.\n                </Typography>\n              </Grid>\n              <Grid item xs={1}>\n                <Tooltip title=\"Visit GitHub Repo\">\n                  <IconButton aria-label=\"visit github repo\" color=\"inherit\" className={classes.button} onClick={handleNavigateToGitHub}>\n                    <GitHubIcon />\n                  </IconButton>\n                </Tooltip>\n              </Grid>\n              <Grid item xs={1}>\n                <Typography variant=\"caption\" align=\"center\" gutterBottom>\n                  v{packageJson.version}\n                </Typography>\n              </Grid>\n              <Grid item xs={3}>\n                <Typography variant=\"caption\" align=\"center\" gutterBottom>\n                  GNU General Public License\n                </Typography>\n              </Grid>\n            </Grid>\n          </Toolbar>\n        </AppBar>\n      </div>\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n","import React, { setGlobal } from 'reactn'\nimport ReactDOM from \"react-dom\";\nimport KeybindMap from \"./keybindMap\";\nimport App from \"./App\";\n\n// Set an initial global state directly:\nsetGlobal({\n    state: {\n        dataFileName: '',\n        isVideo: false,\n        isPlaying: false,\n        duration: 0,\n        playedSeconds: 0,\n        loadedSeconds: 0,\n        playbackRate: 1,\n        videoSize: '840px',\n        keybinds: KeybindMap.Keybinds,\n        data: {\n            recordedEvents: 0,\n            metadata: {},\n            events: []\n        },\n        activeRecords: [],\n        derivedFields: []\n    }\n});\n\nReactDOM.render(<App />, document.getElementById(\"root\"));"],"sourceRoot":""}