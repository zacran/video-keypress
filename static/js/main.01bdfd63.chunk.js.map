{"version":3,"sources":["keybindMap.js","Chart.js","App.js","index.js"],"names":["Keybinds","id","key","order","behavior","active","MIN_EVENT_DURATION","convertToMilliseconds","value","formatTime","fixedValue","toFixed","isNaN","useStyles","makeStyles","theme","root","flexGrow","margin","maxWidth","paper","padding","spacing","fontSize","textAlign","color","palette","text","secondary","control","Chart","props","useState","formattedData","setFormattedData","derivedFields","setDerivedFields","cachedNumHeaderRows","setCachedNumHeaderRows","cachedFormattedDataSize","setCachedFormattedDataSize","classes","useEffect","interval","setInterval","length","computeDerivedFields","clearInterval","data","filter","obj","console","log","uniqueBehaviors","forEach","event","indexOf","push","tempDerivedFields","keybindMap","state","keybinds","occurences","totalDuration","matchingEvents","keybind","avgDuration","derivedField","sort","a","b","undefined","textA","toUpperCase","textB","formatEvent","latestEvent","end","start","events","warn","isDataLoaded","dataFileName","isFormattedDataEmpty","areEventsEmpty","headerRows","type","metadata","duration","isVideo","JSON","stringify","eventsExist","newEventExists","unformattedEvent","formattedEvent","eventsDiff","formattedEvents","concat","className","map","Grid","container","item","xs","Paper","Typography","variant","display","gutterBottom","align","width","height","chartType","options","timeline","colorByRowLabel","showBarLabels","colors","rootProps","SPACE_KEYS","content","marginTop","reactPlayer","slider","dataText","overflow","border","divider","borderRadius","shape","button","smallButton","largeButton","toolbar","minHeight","maxHeight","restrictedText","whiteSpace","textOverflow","title","bottomAppBar","top","bottom","bottomToolbar","minWidth","menu","StyledMenu","withStyles","Menu","elevation","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","App","isPlayingBuffer","keybindInEdit","setKeybindInEdit","anchorEditKeybinds","setAnchorEditKeybinds","isPlaying","playedSeconds","loadedSeconds","playbackRate","KeybindMap","activeRecords","setState","savedKeybinds","parse","localStorage","getItem","Array","isArray","confirmVideoReset","window","confirm","resetData","hiddenVideoUpload","current","openEditKeybind","Boolean","handleUpdateKeybinds","setItem","handleEditKeybindChange","prop","target","NaN","parseInt","find","k","handleCancelEditKeybind","handleVideoSelect","click","handleDataSelect","hiddenDataUpload","handleOnStartPlay","handleKeyevent","callback","String","recordKeydown","activity","parseFloat","recordKeyup","dataEvents","useEventListener","videoFilePath","includes","preventDefault","useRef","anchorSettings","setAnchorSettings","ref","onChange","uploadedFile","files","video","document","createElement","URL","createObjectURL","src","addEventListener","name","fileName","scoringDate","Date","now","scoringDateText","toISOString","activeElement","blur","style","fileReader","FileReader","readAsText","onload","result","popoverMenu","anchorEl","keepMounted","open","onClose","ListItemText","primary","paddingBottom","ToggleButtonGroup","size","exclusive","aria-label","ToggleButton","List","component","paddingTop","dense","ListItem","Popover","disableRestoreFocus","Card","CardContent","TextField","label","inputProps","maxLength","CardActions","Tooltip","IconButton","onClick","index","findIndex","e","currentTarget","handleTriggerEditKeybind","handleDeleteKeybind","Math","max","apply","clear","AppBar","position","background","Toolbar","alignItems","Divider","orientation","flexItem","dataStr","encodeURIComponent","downloadAnchorNode","setAttribute","body","appendChild","remove","svgData","getElementById","getElementsByTagName","outerHTML","replace","svgBlob","Blob","svgUrl","downloadLink","href","download","removeChild","aria-haspopup","url","playing","autoPlay","muted","controls","onDuration","onProgress","progress","onPause","onStart","onPlay","packageJson","version","ReactDOM","render"],"mappings":"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","file":"static/js/main.01bdfd63.chunk.js","sourcesContent":["const Keybinds = {\n    Keybinds: [\n        { id: 1, key: '1', order: 1, behavior: \"Behavior1\", active: false },\n        { id: 2, key: '2', order: 2, behavior: \"Behavior2\", active: false },\n        { id: 3, key: '3', order: 3, behavior: \"Behavior3\", active: false }\n    ]\n};\n\nexport default Keybinds;","import React, { useState, useEffect } from \"react\";\nimport { Chart as GoogleChart } from \"react-google-charts\";\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport KeybindMap from \"./keybindMap\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport \"./App.css\";\n\nconst COMPUTE_DERIVED_FIELDS_INTERVAL = 1000;\nconst MIN_EVENT_DURATION = 0.01; // In seconds\n\nfunction convertToMilliseconds(value) {\n    return value * 1000\n}\n\nfunction formatTime(value) {\n    var fixedValue = value.toFixed(2);\n    if (isNaN(fixedValue)) fixedValue = 0;\n    return `${value.toFixed(2)}ms`;\n}\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        flexGrow: 1,\n        margin: 'auto',\n        maxWidth: '600px'\n    },\n    paper: {\n        padding: theme.spacing(1),\n        fontSize: '12px',\n        textAlign: 'center',\n        color: theme.palette.text.secondary,\n    },\n    control: {\n        padding: theme.spacing(2),\n    },\n}));\n\nconst Chart = (props) => {\n    const [formattedData, setFormattedData] = useState([]);\n    const [derivedFields, setDerivedFields] = useState([]);\n    const [cachedNumHeaderRows, setCachedNumHeaderRows] = useState(0);\n    const [cachedFormattedDataSize, setCachedFormattedDataSize] = useState(0);\n\n    const classes = useStyles();\n\n    useEffect(() => {\n        const interval = setInterval(() => {\n            if (formattedData.length !== cachedFormattedDataSize) {\n                setCachedFormattedDataSize(formattedData.length);\n                computeDerivedFields();\n            }\n        }, COMPUTE_DERIVED_FIELDS_INTERVAL);\n        return () => clearInterval(interval);\n    });\n\n    const computeDerivedFields = () => {\n        // Remove header row of formatted data\n        var data = formattedData.filter(obj => typeof obj[0] === 'string' && obj[1] !== 'Meta');\n        console.log(formattedData);\n\n        // Find unqiue behaviors in existing data\n        const uniqueBehaviors = [];\n        data.forEach(event => {\n            if (uniqueBehaviors.indexOf(event[0]) === -1) {\n                uniqueBehaviors.push(event[0])\n            }\n        });\n\n        var tempDerivedFields = [];\n        const keybindMap = props.state.keybinds;\n\n\n        // Derive fields for each unique behavior\n        uniqueBehaviors.forEach(behavior => {\n            var occurences = 0, totalDuration = 0;\n            var matchingEvents = data.filter(event => event[0] === behavior);\n            var order = keybindMap.filter(keybind => keybind.behavior === behavior).order;\n\n            console.log(\"finding derived fields for \" + behavior + \" found \" + matchingEvents.length + \" events\");\n\n            occurences = matchingEvents.length;\n\n            matchingEvents.forEach(event => {\n                totalDuration += (event[3] - event[2]);\n            });\n\n            var avgDuration = (totalDuration / occurences);\n            if (occurences === 0) avgDuration = 0;\n\n            var derivedField = {\n                order: order,\n                behavior: behavior,\n                occurences: occurences,\n                totalDuration: totalDuration,\n                avgDuration: avgDuration\n            }\n\n            tempDerivedFields.push(derivedField);\n        });\n\n        // Sort derived fields by order property\n        tempDerivedFields.sort((a, b) => {\n            if (a.order !== undefined && b.order !== undefined) {\n                return (a.order > b.order) ? 1 : -1;\n            } else {\n                var textA = a.behavior.toUpperCase();\n                var textB = b.behavior.toUpperCase();\n                return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;\n            }\n        });\n\n        setDerivedFields((derivedFields) => {\n            derivedFields = tempDerivedFields;\n            console.log(derivedFields);\n\n            return derivedFields;\n        });\n        props.state.derivedFields = derivedFields;\n    };\n\n    const formatEvent = (latestEvent) => {\n        // for display purposes, set a minimum value for durations\n        if ((latestEvent.end - latestEvent.start) < MIN_EVENT_DURATION) latestEvent.end += MIN_EVENT_DURATION;\n\n        // Seach existing records for similar start, end, duration times and adjust by the MIN_EVENT_DURATION\n        // This is to account for key presses that happen faster than the update cycle of React\n        props.state.data.events.forEach(obj => {\n            if (obj.id !== latestEvent.id && obj.behavior === latestEvent.behavior) {\n                if (obj.start === latestEvent.start) {\n                    console.warn(\"Adjusted event start time due to existing similar events: \" + latestEvent.id);\n                    latestEvent.start += (MIN_EVENT_DURATION + (0.1 * MIN_EVENT_DURATION));\n                }\n\n                if (obj.behavior === latestEvent.behavior && obj.end === latestEvent.start) {\n                    console.warn(\"Adjusted event start time due to existing similar events: \" + latestEvent.id);\n                    latestEvent.start += (0.1 * MIN_EVENT_DURATION);\n                }\n\n                if (obj.end === latestEvent.end) {\n                    console.warn(\"Adjusted event end time due to existing similar events: \" + latestEvent.id);\n                    latestEvent.end += (MIN_EVENT_DURATION + (0.1 * MIN_EVENT_DURATION));\n                }\n            }\n        });\n\n        return [\n            latestEvent.behavior,\n            \"Event: #\" + latestEvent.id,\n            convertToMilliseconds(latestEvent.start),\n            convertToMilliseconds(latestEvent.end)\n        ];\n    };\n\n    useEffect(() => {\n        var isDataLoaded = (props.state.dataFileName !== '');\n        var isFormattedDataEmpty = (formattedData.length === 0);\n        var areEventsEmpty = (props.state.data.events && props.state.data.events.length === 0);\n\n        // Video has been cleared, reset the chart\n        if (!isDataLoaded && formattedData.length !== 0) {\n            setFormattedData([]);\n            setDerivedFields([]);\n        }\n\n        if (isDataLoaded && isFormattedDataEmpty) {\n            var headerRows = [\n                [\n                    { type: 'string', id: 'Behavior' },\n                    { type: 'string', id: 'Event' },\n                    { type: 'number', id: 'Start' },\n                    { type: 'number', id: 'End' },\n                ],\n                [\n                    \"Behavior\", \"Meta\", 0, convertToMilliseconds(props.state.data.metadata.duration)\n                ]\n            ];\n\n            if (props.state.isVideo && areEventsEmpty) {\n                // Adding empty Behavior records to force a consistent order\n                props.state.keybinds.forEach(obj => {\n                    headerRows.push([obj.behavior, \"Meta\", 0, 0]);\n                });\n            } else if (!areEventsEmpty) {\n                // Likely coming from a data upload - find unique behaviors and sort them alphabetically if order property does not exist\n                // Find unqiue behaviors in existing data\n                const uniqueBehaviors = [];\n                props.state.data.events.forEach(event => {\n                    if (uniqueBehaviors.indexOf(event.behavior) === -1) {\n                        uniqueBehaviors.push(event.behavior)\n                    }\n                });\n                console.log(JSON.stringify(uniqueBehaviors));\n                uniqueBehaviors.sort((a, b) => {\n                    var textA = a.toUpperCase();\n                    var textB = b.toUpperCase();\n                    return (textA < textB) ? -1 : (textA > textB) ? 1 : 0;\n                });\n                uniqueBehaviors.forEach(behavior => {\n                    headerRows.push([behavior, \"Meta\", 0, 0]);\n                });\n            }\n\n            setCachedNumHeaderRows(headerRows.length)\n            setFormattedData(headerRows);\n        }\n\n        // Check if events exist to avoid running code when idle\n        var eventsExist = (props.state.data.events && props.state.data.events.length > 0);\n        // Check if a new event exists -- length of data.events plus header rows\n        var newEventExists = ((props.state.data.events.length + cachedNumHeaderRows) > formattedData.length);\n\n        // Add new event and compute derived fields when new record is persisted\n        if (eventsExist && newEventExists) {\n            var eventsDiff = ((props.state.data.events.length + cachedNumHeaderRows) - formattedData.length);\n            var formattedEvents = [], unformattedEvent, formattedEvent;\n\n            while (eventsDiff > 0) {\n                unformattedEvent = props.state.data.events[props.state.data.events.length - eventsDiff];\n                formattedEvent = formatEvent(unformattedEvent);\n                formattedEvents.push(formattedEvent);\n                eventsDiff--;\n            }\n\n            setFormattedData(formattedData => (formattedData.concat(formattedEvents)));\n        }\n    });\n\n    return (\n        <div className=\"Row\">\n            {derivedFields.length > 0 && (\n                derivedFields.map((derivedField) =>\n                    <Grid container className={classes.root} spacing={2} key={derivedField.behavior}>\n                        <Grid item xs={3}>\n                            <Paper className={classes.paper}>\n                                <Typography variant=\"caption\" display=\"inline\" gutterBottom>    Behavior:   </Typography>\n                                <Typography variant=\"subtitle2\" display=\"block\" align=\"center\" gutterBottom >{derivedField.behavior}</Typography>\n                            </Paper>\n                        </Grid>\n                        <Grid item xs={3}>\n                            <Paper className={classes.paper}>\n                                <Typography variant=\"caption\" display=\"inline\" gutterBottom>    Occurences: </Typography>\n                                <Typography variant=\"subtitle2\" display=\"block\" align=\"center\" gutterBottom >{derivedField.occurences}</Typography>\n                            </Paper>\n                        </Grid>\n                        <Grid item xs={3}>\n                            <Paper className={classes.paper}>\n                                <Typography variant=\"caption\" display=\"inline\" gutterBottom>    Avg Duration:   </Typography>\n                                <Typography variant=\"subtitle2\" display=\"block\" align=\"center\" gutterBottom >{formatTime(derivedField.avgDuration)}</Typography>\n                            </Paper>\n                        </Grid>\n                        <Grid item xs={3}>\n                            <Paper className={classes.paper}>\n                                <Typography variant=\"caption\" display=\"inline\" gutterBottom>    Total Duration:    </Typography>\n                                <Typography variant=\"subtitle2\" display=\"block\" align=\"center\" gutterBottom >{formatTime(derivedField.totalDuration)}</Typography>\n                            </Paper>\n                        </Grid>\n                    </Grid>\n                )\n            )}\n            <div id=\"chart-container\" className=\"GoogleChart\">\n                {formattedData.length > 1 && (\n                    <GoogleChart\n                        width={'840px'}\n                        height={'400px'}\n                        chartType=\"Timeline\"\n                        data={formattedData}\n                        options={{\n                            timeline: {\n                                colorByRowLabel: true,\n                                margin: 'auto',\n                                showBarLabels: false,\n                            },\n                            colors: ['transparent', '#469FAE', '#3ECDB6', '#C09BD8', '#F67E5C', '#CA1252', '#DD5B5C', '#D9959A', '#938D99', '#5E614A'],\n                        }}\n                        rootProps={{ 'data-testid': '6' }}\n                    />\n                )}\n            </div>\n        </div>\n    );\n}\n\nexport default Chart;","import React, { useState, useEffect, useRef } from \"react\";\nimport \"./App.css\";\nimport 'fontsource-roboto';\nimport packageJson from '../package.json';\nimport { withStyles } from '@material-ui/core/styles';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport AddCircleIcon from '@material-ui/icons/AddCircle';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Chart from \"./Chart\"\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport ReactPlayer from \"react-player\";\nimport useEventListener from \"@use-it/event-listener\";\nimport KeybindMap from \"./keybindMap\"\nimport ImageIcon from '@material-ui/icons/Image';\nimport CodeIcon from '@material-ui/icons/Code';\nimport FolderIcon from '@material-ui/icons/Folder';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport SettingsBackupRestoreIcon from '@material-ui/icons/SettingsBackupRestore';\nimport BlockIcon from '@material-ui/icons/Block';\nimport List from '@material-ui/core/List';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport GitHubIcon from '@material-ui/icons/GitHub';\nimport MovieIcon from '@material-ui/icons/Movie';\nimport GetAppIcon from '@material-ui/icons/GetApp';\nimport KeyboardIcon from '@material-ui/icons/Keyboard';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Divider from '@material-ui/core/Divider';\nimport ToggleButton from '@material-ui/lab/ToggleButton';\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport TextField from '@material-ui/core/TextField';\nimport Popover from '@material-ui/core/Popover';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ExitToApp } from \"@material-ui/icons\";\n\nconst SPACE_KEYS = ['32', ' '];\n\nconst useStyles = makeStyles((theme) => ({\n    content: {\n        marginTop: '55px'\n    },\n    reactPlayer: {\n        margin: 'auto'\n    },\n    slider: {\n        margin: '0px 20px',\n        width: '80%'\n    },\n    dataText: {\n        height: '420px',\n        width: '840px',\n        overflow: 'scroll',\n        margin: 'auto',\n        border: `1px solid ${theme.palette.divider}`,\n        borderRadius: theme.shape.borderRadius,\n    },\n    button: {\n        padding: 0,\n    },\n    smallButton: {\n        '& svg': {\n            color: \"#469FAE\"\n        }\n    },\n    largeButton: {\n        display: 'inline-block',\n        margin: 'auto',\n        '& svg': {\n            fontSize: 144,\n            color: \"#469FAE\"\n        }\n    },\n    toolbar: {\n        minHeight: 48,\n        maxHeight: 48,\n    },\n    restrictedText: {\n        overflow: 'hidden',\n        whiteSpace: 'nowrap',\n        textOverflow: 'ellipsis',\n        margin: '0px 10px',\n        maxWidth: '300px'\n    },\n    title: {\n        flexGrow: 1,\n    },\n    bottomAppBar: {\n        top: 'auto',\n        bottom: 0,\n    },\n    bottomToolbar: {\n        margin: 'auto',\n        minWidth: '700px',\n        textAlign: 'center',\n        minHeight: 32,\n        maxHeight: 32,\n    },\n    menu: {\n        width: 'fit-content',\n        border: `1px solid ${theme.palette.divider}`,\n        borderRadius: theme.shape.borderRadius,\n        '& svg': {\n            margin: theme.spacing(1.5),\n        },\n        '& hr': {\n            margin: theme.spacing(0, 0.5),\n        },\n    },\n}));\n\nconst StyledMenu = withStyles({\n    paper: {\n        border: '1px solid #d3d4d5',\n        width: '200px',\n        margin: '0px 10px',\n    }\n})((props) => (\n    <Menu\n        elevation={0}\n        getContentAnchorEl={null}\n        anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'center',\n        }}\n        transformOrigin={{\n            vertical: 'top',\n            horizontal: 'right',\n        }}\n        {...props}\n    />\n));\n\nconst App = () => {\n    var isPlayingBuffer = false;\n    const [keybindInEdit, setKeybindInEdit] = useState({});\n    const [loadedKeybinds, setLoadedKeybind] = useState([]);\n    const [anchorEditKeybinds, setAnchorEditKeybinds] = useState(null);\n    const [state, setState] = useState({\n        dataFileName: '',\n        isVideo: false,\n        isPlaying: false,\n        duration: 0,\n        playedSeconds: 0,\n        loadedSeconds: 0,\n        playbackRate: 1,\n        keybinds: KeybindMap.Keybinds,\n        data: {\n            metadata: {},\n            events: []\n        }, // persisted data records\n        activeRecords: [], // activity record between keypress down and keypress up\n        derivedFields: []\n    });\n\n    useEffect(() => {\n        var savedKeybinds = JSON.parse(localStorage.getItem('keybinds')) || undefined;\n        if (savedKeybinds && Array.isArray(savedKeybinds)) {\n            setState({ ...state, keybinds: savedKeybinds });\n        }\n    }, []);\n\n    const confirmVideoReset = () => {\n        return window.confirm(\"Are you sure you wish to reset the existing video? Unsaved data will be lost.\");\n    };\n\n    const resetData = () => {\n        hiddenVideoUpload.current.value = \"\";\n        setState({\n            ...state,\n            dataFileName: '',\n            isVideo: false,\n            isPlaying: false,\n            data: {\n                metadata: {},\n                events: []\n            }\n        });\n    };\n\n    function resetVideo() {\n        if (confirmVideoReset()) {\n            resetData();\n        }\n    };\n\n    const openEditKeybind = Boolean(anchorEditKeybinds);\n\n    const handleUpdateKeybinds = (keybinds) => {\n        localStorage.setItem('keybinds', JSON.stringify(keybinds));\n\n        var savedKeybinds = JSON.parse(localStorage.getItem('keybinds')) || undefined;\n        if (savedKeybinds && Array.isArray(savedKeybinds)) {\n            setState({ ...state, keybinds: savedKeybinds });\n        }\n    }\n\n    const handleEditKeybindChange = (prop) => (event) => {\n        var value = event.target.value;\n\n        if (value !== undefined) {\n            if (prop === 'order' && value !== '' && value !== NaN)\n                value = parseInt(value);\n\n            if (prop === 'key') {\n                var existingKey = state.keybinds.find(k => k.key == value);\n                if (existingKey) {\n                    // TODO - error notification\n                    return;\n                }\n\n\n            }\n\n            setKeybindInEdit({ ...keybindInEdit, [prop]: value });\n        }\n\n    };\n\n    const handleTriggerEditKeybind = (event, keybind) => {\n        setKeybindInEdit(keybind);\n        setAnchorEditKeybinds(event.currentTarget);\n    };\n\n    const handleAddNewKeybind = () => {\n        var keybinds = state.keybinds;\n        var id = Math.max.apply(Math, keybinds.map(function (k) { return k.id; })) || 0;\n        var newId = id++;\n        var order = Math.max.apply(Math, keybinds.map(function (k) { return k.order; })) || 0;\n        var newOrder = order++;\n\n        keybinds.push({\n            id: id, key: '0', order: order, behavior: \"New Behavior\", active: false\n        });\n\n        setState((state) => {\n            handleUpdateKeybinds(keybinds);\n\n            return { ...state, keybind: keybinds };\n        });\n    };\n\n    const handleAcceptEditKeybind = (event) => {\n        var keybinds = state.keybinds;\n        var index = keybinds.findIndex(k => k.id == keybindInEdit.id);\n        keybinds[index] = keybindInEdit;\n\n\n        setState((state) => {\n            handleUpdateKeybinds(keybinds);\n\n            return { ...state, keybind: keybinds };\n        });\n        handleCancelEditKeybind();\n    };\n\n    const handleCancelEditKeybind = () => {\n        setAnchorEditKeybinds(null);\n    };\n\n    const handleDeleteKeybind = (event, keybind) => {\n        if (window.confirm(\"Are you sure you wish to delete this keybind?\")) {\n            var keybinds = state.keybinds.filter(k => k.id !== keybind.id);\n            setState((state) => {\n                handleUpdateKeybinds(keybinds);\n\n                return { ...state, keybind: keybinds };\n            });\n        }\n    }\n\n    const handleResetSettings = () => {\n        if (window.confirm(\"Are you sure you wish to clear local settings?\")) {\n            localStorage.clear();\n            setState({ ...state, keybinds: KeybindMap.Keybinds });\n        }\n    }\n\n    const handleDuration = (duration) => {\n        setState({ ...state, duration: duration });\n    };\n\n    const handleProgress = (progress) => {\n        setState({ ...state, playedSeconds: progress.playedSeconds, loadedSeconds: progress.loadedSeconds });\n    };\n\n    const handleVideoSelect = (event) => {\n        if (state.dataFileName !== '') {\n            if (!confirmVideoReset()) {\n                return;\n            }\n        }\n        resetData();\n        hiddenVideoUpload.current.click();\n    };\n\n    const handleVideoUpload = (event) => {\n        var uploadedFile = event.target.files[0];\n        if (uploadedFile) {\n            var video = document.createElement('video');\n            var videoFilePath = URL.createObjectURL(uploadedFile);\n            video.src = videoFilePath;\n            video.addEventListener('loadedmetadata', function () {\n                var duration = parseFloat(video.duration.toFixed(2));\n                setState({\n                    ...state,\n                    videoFilePath: videoFilePath,\n                    dataFileName: event.target.files[0].name,\n                    isVideo: true,\n                    data: {\n                        metadata: {\n                            fileName: event.target.files[0].name,\n                            scoringDate: Date.now(),\n                            scoringDateText: new Date().toISOString(),\n                            duration: duration\n                        },\n                        events: []\n                    }\n                });\n                document.activeElement.blur();\n            });\n        }\n    };\n\n    const handleDataSelect = () => {\n        if (state.dataFileName !== '') {\n            if (!confirmVideoReset()) {\n                return;\n            }\n        }\n        resetData();\n        hiddenDataUpload.current.click();\n    };\n\n    const handleDataUpload = (event) => {\n        const fileReader = new FileReader();\n        fileReader.readAsText(event.target.files[0], \"UTF-8\");\n        var fileName = event.target.files[0].name;\n        fileReader.onload = event => {\n            // Validate data\n            var obj = JSON.parse(event.target.result);\n            if (obj.events && Array.isArray(obj.events) && obj.metadata && obj.metadata.fileName) {\n                setState({ ...state, dataFileName: fileName, data: obj });\n            } else {\n                console.warn(\"Selected data not valid.\")\n            }\n        };\n    };\n\n    const handleDownloadData = () => {\n        if (state.data.events && state.data.events.length > 0) {\n            var dataStr = \"data:text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(state.data));\n            var downloadAnchorNode = document.createElement('a');\n            downloadAnchorNode.setAttribute(\"href\", dataStr);\n            downloadAnchorNode.setAttribute(\"download\", state.dataFileName + \"-scored-behavior.json\");\n            document.body.appendChild(downloadAnchorNode); // required for firefox\n            downloadAnchorNode.click();\n            downloadAnchorNode.remove();\n        }\n    };\n\n    const handleDownloadSVG = () => {\n        if (state.data.events && state.data.events.length > 0) {\n            var chartContainer = document.getElementById('chart-container');\n            var svgData = chartContainer.getElementsByTagName('svg')[0].outerHTML;\n            svgData = svgData.replace(\"<svg\", \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\"\");\n\n            var svgBlob = new Blob([svgData], { type: \"image/svg+xml;charset=utf-8\" });\n            var svgUrl = URL.createObjectURL(svgBlob);\n            var downloadLink = document.createElement(\"a\");\n            downloadLink.href = svgUrl;\n            downloadLink.download = state.dataFileName + \"-scored-behavior.svg\";\n            document.body.appendChild(downloadLink);\n            downloadLink.click();\n            document.body.removeChild(downloadLink);\n        }\n    };\n\n    const handleNavigateToGitHub = () => {\n        window.open('https://github.com/zacran/video-keypress', '_blank');\n    };\n\n    // isPlayingBuffer will never allow starting a video with Space.\n    // This is by design because of autoPlay restrictions in Chrome.\n    // When video is started via Javascript, Chrome assumes it is \n    // autoplaying; user events such as adjusting the volume or fullsize controls can throw\n    // the state variables out of sync as Chrome fires start/stop commands.\n    const handleIsPlayingUpdate = () => {\n        isPlayingBuffer = !isPlayingBuffer;\n    };\n\n    const handleOnStartPlay = () => {\n        setState({ ...state, isPlaying: true });\n    };\n    const handleOnPauseStop = () => {\n        setState({ ...state, isPlaying: false });\n    };\n\n    const handleKeydown = (event) => {\n        if (state.videoFilePath !== '' && state.isVideo && SPACE_KEYS.includes(String(event.key))) {\n            event.preventDefault();\n            handleIsPlayingUpdate();\n        } else if (state.isVideo && state.isPlaying) {\n            handleKeyevent(event.key, recordKeydown);\n        }\n    };\n\n    const handleKeyup = ({ key }) => {\n        handleKeyevent(key, recordKeyup);\n    };\n\n    const handleKeyevent = (key, callback) => {\n        state.keybinds.forEach(function (keybind) {\n            if (keybind.key === (String(key))) {\n                callback(keybind);\n            }\n        });\n    };\n\n    const handlePlaybackRateChange = (event, value) => {\n        if (value !== state.playbackRate)\n            setState({ ...state, playbackRate: parseFloat(value) })\n    };\n\n    const recordKeydown = (keybind) => {\n        if (!keybind.active) {\n            keybind.active = true;\n            let activity = {\n                key: keybind.key,\n                behavior: keybind.behavior,\n                order: keybind.order,\n                start: parseFloat(state.playedSeconds.toFixed(3))\n            };\n\n            let activeRecords = state.activeRecords;\n            activeRecords.push(activity);\n            setState({ ...state, activeRecords: activeRecords });\n        }\n    };\n\n    const recordKeyup = (keybind) => {\n        let activity = state.activeRecords.find(obj => { return obj.key === keybind.key });\n        let activeRecords = state.activeRecords.filter(obj => obj.key !== keybind.key);\n\n        if (activity) {\n            keybind.active = false;\n            activity.id = state.data.events.length;\n            activity.end = parseFloat(state.playedSeconds.toFixed(3));\n\n            let dataEvents = state.data.events;\n            dataEvents.push(activity);\n\n            setState({\n                ...state,\n                activeRecords: activeRecords,\n                data: {\n                    events: dataEvents,\n                    metadata: {\n                        ...state.data.metadata\n                    }\n                }\n            });\n        }\n    };\n\n    useEventListener('keydown', handleKeydown);\n    useEventListener('keyup', handleKeyup);\n\n    const classes = useStyles();\n    const hiddenVideoUpload = useRef(null);\n    const hiddenDataUpload = useRef(null);\n\n    const [anchorSettings, setAnchorSettings] = useState(null);\n\n    const handleSettingsClick = (event) => {\n        setAnchorSettings(event.currentTarget);\n    };\n\n    const handleSettingsClose = () => {\n        setAnchorSettings(null);\n    };\n\n\n    return (\n        <div className=\"App\">\n            <input type=\"file\" ref={hiddenVideoUpload} onChange={handleVideoUpload} style={{ display: 'none' }} />\n            <input type=\"file\" ref={hiddenDataUpload} onChange={handleDataUpload} style={{ display: 'none' }} />\n            <StyledMenu\n                className={classes.popoverMenu}\n                anchorEl={anchorSettings}\n                keepMounted\n                open={Boolean(anchorSettings)}\n                onClose={handleSettingsClose}>\n                <ListItemText primary=\"Settings\" align=\"center\" />\n                <ListItemText secondary=\"Playback Speed\" align=\"center\" />\n                <Grid align=\"center\" style={{ paddingBottom: '8px' }}>\n                    <ToggleButtonGroup\n                        size=\"small\"\n                        value={state.playbackRate || 1}\n                        align=\"center\"\n                        exclusive\n                        onChange={handlePlaybackRateChange}\n                        aria-label=\"playback-rate-togglegroup\"\n                    >\n                        <ToggleButton value={0.5} aria-label=\"centered\">\n                            <Typography variant=\"caption\" align=\"center\">0.5x</Typography>\n                        </ToggleButton>\n                        <ToggleButton value={1.0} aria-label=\"centered\">\n                            <Typography variant=\"caption\" align=\"center\">1.0x</Typography>\n                        </ToggleButton>\n                        <ToggleButton value={1.5} aria-label=\"centered\">\n                            <Typography variant=\"caption\" align=\"center\">1.5x</Typography>\n                        </ToggleButton>\n                        <ToggleButton value={2.0} aria-label=\"centered\">\n                            <Typography variant=\"caption\" align=\"center\">2.0x</Typography>\n                        </ToggleButton>\n                    </ToggleButtonGroup>\n                </Grid>\n                <ListItemText secondary=\"Keybinds\" align=\"center\" />\n                <List component=\"nav\"\n                    aria-label=\"keybinds-list\"\n                    className={classes.root}\n                    style={{ paddingTop: '0px' }}\n                    dense\n                >\n                    <ListItem dense>\n                        <ListItemText primary=\"Pause/Resume\" secondary=\"keybind: space\" />\n                    </ListItem>\n\n                    <Popover\n                        open={openEditKeybind}\n                        anchorEl={anchorEditKeybinds}\n                        disableRestoreFocus\n                        anchorOrigin={{\n                            vertical: 'center',\n                            horizontal: 'left',\n                        }}\n                        transformOrigin={{\n                            vertical: 'center',\n                            horizontal: 'right',\n                        }}\n                    >\n                        <Card className={classes.root} variant=\"outlined\">\n                            <CardContent>\n                                <ListItemText primary=\"Edit Keybind\" secondary=\"Changes are saved to your browser cache\" />\n                                <TextField id=\"keybind-behavior-input\" variant=\"outlined\" size=\"small\"\n                                    label=\"Behavior Name\"\n                                    value={keybindInEdit.behavior}\n                                    onChange={handleEditKeybindChange('behavior')}\n                                />\n                                <TextField id=\"keybind-key-input\" variant=\"outlined\" size=\"small\"\n                                    label=\"Key\"\n                                    inputProps={{ maxLength: 1 }}\n                                    value={keybindInEdit.key}\n                                    onChange={handleEditKeybindChange('key')}\n                                />\n                                {/* <TextField id=\"keybind-order-input\" variant=\"outlined\" size=\"small\"\n                                    label=\"Order\"\n                                    value={keybindInEdit.order}\n                                    onChange={handleEditKeybindChange('order')} /> */}\n                            </CardContent>\n                            <CardActions>\n                                <Tooltip title=\"Accept\">\n                                    <IconButton size=\"small\" className={classes.smallButton} onClick={handleAcceptEditKeybind}>\n                                        <CheckCircleIcon fontSize=\"small\" />\n                                    </IconButton>\n                                </Tooltip>\n                                <Tooltip title=\"Cancel\">\n                                    <IconButton size=\"small\" color=\"secondary\" onClick={handleCancelEditKeybind}>\n                                        <CancelIcon fontSize=\"small\" />\n                                    </IconButton>\n                                </Tooltip>\n                            </CardActions>\n                        </Card>\n                    </Popover>\n\n                    {state.keybinds.map((keybind) =>\n                        <ListItem key={keybind.id} dense>\n                            <ListItemText primary={keybind.behavior} secondary={`keybind: ${keybind.key}`} />\n                            <Tooltip title=\"Edit Keybind\">\n                                <IconButton size=\"small\" className={classes.smallButton} onClick={(e) => (handleTriggerEditKeybind(e, keybind))}>\n                                    <EditIcon fontSize=\"small\" />\n                                </IconButton>\n                            </Tooltip>\n                            <Tooltip title=\"Delete Keybind\">\n                                <IconButton color=\"secondary\" size=\"small\" onClick={(e) => (handleDeleteKeybind(e, keybind))}>\n                                    <DeleteIcon fontSize=\"small\" />\n                                </IconButton>\n                            </Tooltip>\n                        </ListItem>\n                    )}\n                    <Grid align=\"center\">\n                        <Tooltip title=\"Add New Keybind\">\n                            <IconButton color=\"primary\" size=\"small\" className={classes.smallButton} onClick={handleAddNewKeybind}>\n                                <AddCircleIcon fontSize=\"small\" />\n                            </IconButton>\n                        </Tooltip>\n                        <Tooltip title=\"Reset to Defaults\">\n                            <IconButton color=\"primary\" size=\"small\" className={classes.smallButton} onClick={handleResetSettings}>\n                                <SettingsBackupRestoreIcon fontSize=\"small\" />\n                            </IconButton>\n                        </Tooltip>\n                    </Grid>\n\n\n                </List>\n            </StyledMenu>\n\n            <AppBar position=\"fixed\" style={{ background: '#469FAE' }}>\n                <Toolbar className={classes.toolbar}>\n                    <Typography variant=\"h5\" component=\"h1\" className={classes.title}>Video Keypress</Typography>\n                    <Grid container alignItems=\"center\" className={classes.menu}>\n                        {state.dataFileName && (\n                            <Tooltip title={state.dataFileName}>\n                                <Grid item>\n                                    <Typography variant=\"caption\" display=\"block\" className={classes.restrictedText}>Current {state.isVideo ? \"Video\" : \"Data\"}:</Typography>\n                                    <Typography variant=\"overline\" display=\"block\" className={classes.restrictedText}>{state.dataFileName}</Typography>\n                                </Grid>\n                            </Tooltip>\n\n                        )}\n                        {state.dataFileName && (\n                            <Divider orientation=\"vertical\" flexItem />\n                        )}\n                        {state.dataFileName && (\n                            <Tooltip title=\"Download Data\">\n                                <IconButton aria-label=\"download data\"\n                                    color=\"inherit\"\n                                    className={classes.button}\n                                    onClick={handleDownloadData}>\n                                    <GetAppIcon />\n                                </IconButton>\n                            </Tooltip>\n                        )}\n                        {state.dataFileName && (\n                            <Divider orientation=\"vertical\" flexItem />\n                        )}\n                        {state.dataFileName && (\n                            <Tooltip title=\"Download SVG\">\n                                <IconButton aria-label=\"download svg\"\n                                    color=\"inherit\"\n                                    className={classes.button}\n                                    onClick={handleDownloadSVG}>\n                                    <ImageIcon />\n                                </IconButton>\n                            </Tooltip>\n                        )}\n                        {state.dataFileName && (\n                            <Divider orientation=\"vertical\" flexItem />\n                        )}\n                        {state.dataFileName && (\n                            <Tooltip title=\"Unset Video\">\n                                <IconButton aria-label=\"unset video\"\n                                    color=\"inherit\"\n                                    className={classes.button}\n                                    onClick={resetVideo}>\n                                    <CancelIcon />\n                                </IconButton>\n                            </Tooltip>\n                        )}\n                        {state.dataFileName && (\n                            <Divider orientation=\"vertical\" flexItem />\n                        )}\n\n                        <Tooltip title=\"Select Video\">\n                            <IconButton aria-label=\"select video\"\n                                color=\"inherit\"\n                                className={classes.button}\n                                onClick={(e) => handleVideoSelect(e)}>\n                                <MovieIcon />\n                            </IconButton>\n                        </Tooltip>\n                        <Divider orientation=\"vertical\" flexItem />\n                        <Tooltip title=\"Select Data\">\n                            <IconButton aria-label=\"select data\"\n                                color=\"inherit\"\n                                className={classes.button}\n                                onClick={handleDataSelect}>\n                                <CodeIcon />\n                            </IconButton>\n                        </Tooltip>\n                        <Divider orientation=\"vertical\" flexItem />\n                        <Tooltip title=\"Settings\">\n                            <IconButton aria-label=\"settings\"\n                                color=\"inherit\"\n                                aria-haspopup=\"true\"\n                                onClick={handleSettingsClick}\n                                className={classes.button}>\n                                <SettingsIcon />\n                            </IconButton>\n                        </Tooltip>\n                    </Grid>\n                </Toolbar>\n            </AppBar>\n            <div className={classes.content}>\n                {!state.dataFileName && (\n                    <div align=\"center\">\n                        <Typography variant=\"caption\" display=\"block\" align=\"center\" gutterBottom>Please select a video or select data from a previous session!</Typography>\n                        <Tooltip title=\"Select Video\" align=\"center\">\n                            <IconButton aria-label=\"select video\"\n                                color=\"inherit\"\n                                className={classes.largeButton}\n                                onClick={(e) => handleVideoSelect(e)}>\n                                <MovieIcon />\n                            </IconButton>\n                        </Tooltip>\n                        <Tooltip title=\"Select Data\" align=\"center\">\n                            <IconButton aria-label=\"select video\"\n                                color=\"inherit\"\n                                className={classes.largeButton}\n                                onClick={(e) => handleDataSelect(e)}>\n                                <CodeIcon />\n                            </IconButton>\n                        </Tooltip>\n                    </div>\n                )}\n\n                <div className=\"Row\">\n                    <div className=\"VideoPlay\">\n                        {state.dataFileName && !state.isVideo && (\n                            <div className={classes.dataText}><pre>{JSON.stringify(state.data, undefined, 2)}</pre></div>\n                        )}\n                        {state.dataFileName && state.isVideo && (\n                            <ReactPlayer url={state.videoFilePath}\n                                className={classes.reactPlayer}\n                                playing={isPlayingBuffer}\n                                width=\"840px\"\n                                height=\"100%\"\n                                autoPlay={false}\n                                muted={true}\n                                controls={true}\n                                onDuration={handleDuration}\n                                onProgress={handleProgress}\n                                playbackRate={state.playbackRate || 1}\n                                onPause={handleOnPauseStop}\n                                onStart={handleOnStartPlay}\n                                onPlay={handleOnStartPlay}\n                            />\n                        )}\n                        <div className=\"Row\">\n                            <Chart state={state} />\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <AppBar position=\"fixed\" color=\"transparent\" className={classes.bottomAppBar}>\n                <Toolbar className={classes.bottomToolbar}>\n                    <Grid container alignItems=\"center\" spacing={2}>\n                        <Grid item xs={6}>\n                            <Typography variant=\"caption\" align=\"center\" gutterBottom>\n                                No data is transfered. All data remains in your browser.\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={1}>\n                            <Tooltip title=\"Visit GitHub Repo\">\n                                <IconButton aria-label=\"visit github repo\"\n                                    color=\"inherit\"\n                                    className={classes.button}\n                                    onClick={handleNavigateToGitHub}>\n                                    <GitHubIcon />\n                                </IconButton>\n                            </Tooltip>\n                        </Grid>\n                        <Grid item xs={2}>\n                            <Typography variant=\"caption\" align=\"center\" gutterBottom>\n                                Version {packageJson.version}\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={3}>\n                            <Typography variant=\"caption\" align=\"center\" gutterBottom>\n                                GNU General Public License\n                            </Typography>\n                        </Grid>\n                    </Grid>\n                </Toolbar>\n            </AppBar>\n        </div >\n    );\n}\n\nexport default App;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));"],"sourceRoot":""}